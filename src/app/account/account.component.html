<h1 class="checkout-title">M√¥j √∫ƒçet</h1>

<div class="account-wrapper">

  <!-- üü¶ 1. veƒæk√Ω blok ‚Äì formul√°r -->
  <div class="account-section form-block">
    <h2 class="section-title">√ödaje pou≈æ√≠vateƒæa</h2>

    <form [formGroup]="accountForm" (ngSubmit)="saveAccount()">
      <app-user-form [form]="accountForm"></app-user-form>

      <div class="form-actions">
        <button type="submit" class="btn-primary">Ulo≈æi≈• zmeny</button>
      </div>
    </form>


  </div>

  <!-- üü¶ Prav√Ω stƒ∫pec (2 men≈°ie bloky pod sebou) -->
  <div class="right-column">

    <!-- 2. blok ‚Äì obƒæ√∫ben√© produkty -->
    <div class="account-section">
      <h2 class="section-title">Moje obƒæ√∫ben√© produkty</h2>

      <div *ngIf="favorites$ | async as favs">
        <div *ngIf="favs.length > 0; else noFavs" class="favorites-grid">
          <div *ngFor="let product of favs" class="favorite-card">
            <a class="fav-link" [routerLink]="['/produkt', product.slug]">
              <img class="fav-img"
                   [src]="product.primaryImageUrl || '/assets/img/logo-SLM-modre.gif'"
                   alt="{{ product.name }}" />
              <div class="fav-info">
                <span class="fav-name">{{ product.name }}</span>
                <span class="fav-price">{{ product.price | currency:'EUR' }}</span>
              </div>
            </a>
            <button class="btn-remove" (click)="removeFavorite(product)">‚ùå Odstr√°ni≈•</button>
          </div>
        </div>
        <ng-template #noFavs>
          <p class="empty-msg">Nem√°te ≈æiadne obƒæ√∫ben√© produkty.</p>
        </ng-template>
      </div>
    </div>

    <!-- 3. blok ‚Äì napr. ƒèal≈°ie inform√°cie -->
    <div class="account-section">
      <h2 class="section-title">Moje objedn√°vky</h2>
      <p>Tu m√¥≈æu by≈• inform√°cie o posledn√Ωch objedn√°vkach alebo in√Ω obsah.</p>
    </div>

  </div>
  <div class="logout-wrapper" style="margin:auto;">
    <button class="btn-primary btn-logout" (click)="logout()">Odhl√°si≈• sa</button>
  </div>
</div>

<app-footer></app-footer>
